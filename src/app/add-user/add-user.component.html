
<p-growl [(value)]="msgs" [life]="3000" [sticky]="false"></p-growl>
<h1 class="h2">Add user</h1>
<form [formGroup]="addUserForm" (ngSubmit)="addUserSubmit()" novalidate>
        
        <div class="row">
            <div class="col-md-3"></div>
            <div class="form-group col-md-6">
                <label class="control-label col-sm-4" for="firstNameControl">First Name:</label>
                <div class="col-sm-6">
                    <input class="form-control" placeholder="Enter first name" name="firstNameControl" formControlName="firstNameControl">
                </div>
            </div>
            <div class="col-md-3">
                <div *ngIf="(addUserForm.controls.firstNameControl.touched && !addUserForm.controls.firstNameControl.valid)">
                    <span class="glyphicon glyphicon-info-sign text-danger" aria-hidden="true" style="display:inline;"></span>
                    <p class="text-danger" style="display:inline;">This is a required field</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="form-group col-md-6">
                <label class="control-label col-sm-4" for="lastNameControl">Last Name:</label>
                <div class="col-sm-6">
                    <input class="form-control" placeholder="Enter last name" name="lastNameControl" formControlName="lastNameControl">
                </div>
            </div>
            <div class="col-md-3">
                <div *ngIf="(addUserForm.controls.lastNameControl.touched && !addUserForm.controls.lastNameControl.valid)">
                    <span class="glyphicon glyphicon-info-sign text-danger" aria-hidden="true" style="display:inline;"></span>
                    <p class="text-danger" style="display:inline;">This is a required field</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-3"></div>
            <div class="form-group col-md-6">
                <label class="control-label col-sm-4" for="employeeIdControl">Employee ID:</label>
                <div class="col-sm-6">
                    <input class="form-control" placeholder="Enter Employee ID" name="employeeIdControl" formControlName="employeeIdControl">
                </div>
            </div>
            <div class="col-md-3">
                <div *ngIf="(addUserForm.controls.employeeIdControl.touched && !addUserForm.controls.employeeIdControl.valid)">
                    <span class="glyphicon glyphicon-info-sign text-danger" aria-hidden="true" style="display:inline;"></span>
                    <p class="text-danger" style="display:inline;">This is a required field</p>
                </div>
            </div>
        </div>
       
        <div class="row">
            <div class="col-md-3"></div>
            <div class="form-group col-md-6">
                <div class="col-md-4"></div>
                <div class="col-md-9">
                    <button type="submit" class="btn btn-success btn-md" [disabled]="addUserForm.invalid" [ngClass]="{
                        'btn-primary': addOrUpdateBtn == 'Add',
                        'btn-default': addOrUpdateBtn == 'Update'
                    }">{{addOrUpdateBtn}}</button>&nbsp;
                    <button type="button" class="btn btn-md btn-danger" (click)="onReset()">Reset</button>
                </div>
            </div>
            <div class="col-md-2"></div>
        </div>
    </form>
    <h1 class="h2">View users</h1>
    <div class="col-md-8">
    <p-dataTable [value]="usersList">
            <p-column field="employeeId" header="Employee ID" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
            <p-column field="firstName" header="First Name" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
            <p-column field="lastName" header="Last Name" sortable="true" [filter]="true" filterMatchMode="contains"></p-column>
   
            <p-column>
                <ng-template let-user="rowData" pTemplate="body">
                    <button type="button" class="btn btn-success" (click)="onEditClick(user)" aria-label="Left Align">
                        <span class="fa fa-edit fa-lg" aria-hidden="true" ></span>
                    </button>
                    &nbsp;
                    <button type="button" class="btn btn-danger" (click)="confirmDelete(user)" aria-label="Left Align">
                        <span class="fa fa-trash-o fa-lg" aria-hidden="true"></span>
                    </button>
                </ng-template>
            </p-column>
        </p-dataTable>
    </div>
    <p-confirmDialog header="Confirmation" icon="fa fa-question-circle" width="425" #cd ></p-confirmDialog>
